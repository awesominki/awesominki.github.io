---
layout: page
title: Part 2-5 RESTful , 쿠키&세션
description: >
hide_description: true
sitemap: false
---

## REST & RESTful이란?

REST란 Representational State Transfer의 약자로 웹의 장점을 최대한 활용할 수 있는 Client와 Server 간 통신 방식 중 하나이다.

설계 기본 규칙으로 HTTP URI를 통해 자원을 명시하고 HTTP method(GET, POST, PUT, DELETE)를 통해 자원을 처리하도록 설계된 아키텍처이다.

RESTful은 REST라는 아키텍처를 구현하는 웹 서비스를 나타내는 것으로 REST 원리를 따르는 시스템을 RESTful이라는 용어로 지칭한다.

---
## GET VS POST

### GET

주로 데이터를 읽거나 검색할 때 사용하는 메소드이다. GET 요청이 성공적으로 이루어진다면 XML이나 JSON과 함께 200(ok) HTTP Status Code를 반환한다. 만약, 에러가 발생하면 주로 404(Not found) 에러나 400(Bad Request) 에러가 발생한다.

HTTP 명세에 의하면 GET 요청은 오로지 데이터를 읽을 때만 사용되고 수정할 때는 사용하지 않는다. 따라서 이런 이유로 사용하면 안전하다고 간주된다. 즉, 데이터 변형의 위험 없이 사용할 수 있다는 뜻이다. 게다가 GET 요청은 멱등성을 가지고 있다. 즉, 같은 요청을 여러번 하더라도 변함없이 항상 같은 응답을 받을 수 있다.

그러므로 GET을 데이터를 변경하는 등의 안전하지 않은 연산에 사용하면 안된다.

### POST

주로 새로운 리소스를 생성(Create)할 때 사용된다. 구체적으로 POST는 하위 리소스들(부모 리소스의 하위 리소스)을 생성하는데 사용된다. 성공적으로 Creation을 완료하면 201(Created) HTTP Status Code를 반환한다.

POST 요청은 안전하지도 않고 멱등성이 있지도 않다. 다시 말해서 같은 POST 요청을 반복해서 했을 때 항상 같은 결과물이 나오는 것을 보장하지 않는다는 것이다. 그러므로 두 개의 같은 POST 요청을 보내면 같은 정보를 담은 두 개의 다른 resource를 반환할 가능성이 높다.

### GET VS POST

- GET : 모든 필요한 데이터를 URL에 포함하여 요청한다.
- POST : 추가적인 데이터를 body에 포함할 수 있다.

---

## 쿠키와 세션의 차이

HTTP는 비상태성(Stateless) 프로토콜로 상태 정보를 유지하지 않는다. 연결을 유지하지 않기 때문에 리소스 낭비가 줄어드는 것은 큰 장점이지만 통신할 때마다 매번 연결 설정을 해야 하며, 이전 요청과 현재 요청이 같은 사용자의 요청인지 알 수 없다는 단점이 존재한다.

쿠키와 세션을 통해서 HTTP의 Stateless한 문제점을 해결할 수 있다.

[저장 위치]

- 쿠키 : 클라이언트의 웹 브라우저가 지정하는 메모리 or 하드 디스크
- 세션 : 서버의 메모리

[만료 시점]

- 쿠키 : 저장할 때, expires 속성을 정의하여 무효화시키면 삭제될 날짜를 지정할 수 있다.
- 세션 : 클라이언트가 로그아웃하거나 설정 시간 동안 반응이 없으면 무효화되기 때문에 정확한 시점을 알 수 없다.

[리소스]

- 쿠키 : 클라이언트에 저장되고 클라이언트의 메모리를 사용하기 때문에 서버 자원을 사용하지 않는다.
- 세션 : 서버에 저장되고, 서버 메모리로 로딩되기 때문에 세션이 생길 때마다 리소스를 차지한다.

[용량 제한]

- 쿠키 : 클라이언트도 모르게 접속되는 사이트에 의하여 설정될 수 있기 때문에 쿠키로 인해 문제가 발생하는 걸 막고자 한 도메인당 20개, 하나의 쿠키당 4KB로 제한해 두었다.
- 세션 : 클라이언트가 접속하면 서버에 의해 생성되므로 개수나 용량 제한이 없다.

[보안]

- 쿠키 : 클라이언트에 저장하기 때문에 보안에 취약하다.
- 세션 : 서버에 저장하기 때문에 쿠키에 비해서는 보안에 우수하다.
