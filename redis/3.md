---
layout: page
title: 3. Springì—ì„œ Redis ì‚¬ìš©í•´ë³´ê¸°
description: >
hide_description: true
sitemap: false
---

## Spring Boot í”„ë¡œì íŠ¸  ì¤€ë¹„

>ğŸ’¡ Redisì˜ ê¸°ì´ˆì ì¸ ìë£Œí˜•ì„ ë°°ì›Œë³´ì•˜ìŠµë‹ˆë‹¤. ë³¸ê²©ì ì¸ ì„œë¹„ìŠ¤ì— Redisë¥¼ ì ìš©í•˜ê¸° ì „, ì—°ìŠµìš© Spring Boot í”„ë¡œì íŠ¸ì—ì„œ í™œìš©í•´ ë´…ì‹œë‹¤.

ë¨¼ì € Spring Initializrë¥¼ ì´ìš©í•´ Redisë¥¼ ì‚¬ìš©í•´ë³´ê¸° ìœ„í•œ ìµœì†Œí•œì˜ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.


>1ï¸âƒ£ Spring Initializrì—ì„œ ë‹¤ìŒ ì˜ì¡´ì„±ì„ ì¶”ê°€í•©ë‹ˆë‹¤. groupì€ ë³€ê²½í•˜ì§€ ì•Šê³ , artifactëŠ” redisë¡œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

![Spring](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Fecd7b531-4140-4009-bec7-2c84468ab526%2FUntitled.png?table=block&id=7aedc79f-b070-449c-8140-f7bfcb6cea8e&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1290&userId=&cache=v2)


>2ï¸âƒ£ ê°™ì´ ë§Œë“¤ì–´ì§€ëŠ” `application.properties`ë¥¼ ì‚­ì œí•˜ê³ , `application.yaml`ì„ ìƒˆë¡œ ë§Œë“­ë‹ˆë‹¤.

![yml](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F7868b6f3-6c7a-40b6-a270-96210db0cec9%2FUntitled.png?table=block&id=18d3f37f-0c97-46c1-abb9-4ed6cb573a32&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1800&userId=&cache=v2)

>3ï¸âƒ£ `application.yaml`ì˜ ë‚´ìš©ì„ ì‘ì„±í•©ë‹ˆë‹¤.

- **`application.yaml`**

    ```yaml
    spring:
      data:
        redis:
          host: <ì„œë²„ ì£¼ì†Œ>
          port: <í¬íŠ¸ ë²ˆí˜¸>
          username: <ì‚¬ìš©ì ê³„ì •, ê¸°ë³¸ê°’ default>
          password: <ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸>
    ```

>â— hostì™€ portë¥¼ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ localhost:6379ì— ì—°ê²°ì„ ì‹œë„í•©ë‹ˆë‹¤. ë¡œì»¬ì— ì„¤ì¹˜í•˜ì…¨ë‹¤ë©´, ê¸°ë³¸ êµ¬ì„±ì´ ë˜ê² ì£ ?!


## Spring Data Repository ì¨ë³´ê¸°

Spring Data JPAë¥¼ ì‚¬ìš©í•´ ë³´ì…¨ë‹¤ë©´, í”„ë¡œì íŠ¸ì˜  `Repository` ì¸í„°í˜ì´ìŠ¤, `JpaRepository`ë‚˜ `CrudRepository` ë“±ì— ìµìˆ™í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `spring-boot-starter-data-redis` ì˜ì¡´ì„±ì´ ì¶”ê°€ë˜ì–´ ìˆë‹¤ë©´, Java ê°ì²´ë¥¼ Redisì— ì†ì‰½ê²Œ CRUD í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë„ë©”ì¸ ê°ì²´ & Repository ë§Œë“¤ê¸°

ë¨¼ì € `Item`ì´ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ë¨¼ì € ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

- **Item.java**

    ```java
    // package, import ìƒëµ
    
    @Getter
    @Setter
    @Builder
    @NoArgsConstructor
    @AllArgsConstructor
    @RedisHash("item")
    public class Item implements Serializable {
        @Id
        private Long id;
        private String name;
        private String description;
        private Integer price;
    }
    ```


ì´ `Item` í´ë˜ìŠ¤ëŠ” ì¼ë°˜ì ì¸ JPA Entityì™€ ìœ ì‚¬í•˜ê²Œ, `Item`ì´ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„°ê°€ Redisì— ì €ì¥ë  ê²ƒì„ì„ ë‚˜íƒ€ë‚´ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ì°¨ì´ì ì€, JPAì˜ `@Entity` ì–´ë…¸í…Œì´ì…˜ì´ ì•„ë‹Œ `@RedisHash` ì–´ë…¸í…Œì´ì…˜ì´ ì¶”ê°€ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ì´ë²ˆì—” ì´ë¥¼ ì‚¬ìš©í•  `CrudRepository`, `ItemRepository` interfaceë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤

- **ItemRepository.java**

    ```java
    public interface ItemRepository extends CrudRepository<Item, Long> {}
    ```


`extends CrudRepository`ì˜ ì¡´ì¬ë¡œ, ì €í¬ê°€ íŠ¹ë³„íˆ ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ì§€ ì•Šì•„ë„ ê¸°ë³¸ì ì¸ CRUD ì‘ì—…ì„ ìœ„í•œ ë©”ì„œë“œê°€ ë§ˆë ¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ë©´ Redisì— Hash ìë£Œí˜•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê²Œ ë©ë‹ˆë‹¤.

### ì‚¬ìš©í•´ë³´ì

ê°„ë‹¨í•œ CRUD ì‘ì—…ì„ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‘ì„±í•´ ë´…ì‹œë‹¤.

- **RedisRepositoryTests.java**

    ```java
    @SpringBootTest
    public class RedisRepositoryTests {
        @Autowired
        private ItemRepository itemRepository;
    }
    ```


ë¨¼ì € Createë¥¼ í•´ë´…ë‹ˆë‹¤.

- **createTest()**

    ```java
    @Test
    public void createTest() {
        Item item = Item.builder()
                .id(1L)
                .name("keyboard")
                .description("Mechanical Keyboard Expensive ğŸ˜¢")
                .build();
        itemRepository.save(item);
    }
    ```


ì •ìƒì ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. IDEì—ì„œ Redisì˜ ë°ì´í„°ë¥¼ ì‚´í´ë³´ë©´?

- **`KEYS *`ì˜ ê²°ê³¼**

  ![keys](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Fc9d6f138-0dd8-4104-89f4-e19934196fd1%2FUntitled.png?table=block&id=5d6981f3-5f77-4704-aba9-81ff5303b279&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=830&userId=&cache=v2)


ë‘ê°œì˜ Keyê°€ ìƒê¸´ê±¸ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ì²˜ìŒ ë³´ì´ëŠ” `item` Keyì˜ ê²½ìš°, SET ìë£Œí˜•ìœ¼ë¡œ ì‹¤ì œë¡œ ì‚¬ìš©ëœ IDë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ë°ì´í„°ì…ë‹ˆë‹¤. ë‘ë²ˆì§¸ì˜ `item:1` Keyì˜ ê²½ìš°, Hashë¡œ ì‹¤ì œë¡œ ì €í¬ê°€ ë§Œë“  `Item` ê°ì²´ì˜ ë°ì´í„°ê°€ ë‹´ê¸´ Hashì…ë‹ˆë‹¤. ì´ë¥¼ `HGETALL`ë¡œ í™•ì¸í•´ ë´…ì‹œë‹¤.

- **`HGETALL item:1`ì˜ ê²°ê³¼**

  ![hgetall](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F4478c177-9b68-4f5f-b2de-4767e1aeca94%2FUntitled.png?table=block&id=f4896d29-4984-41d2-a081-e9fdd8d4c3f5&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1380&userId=&cache=v2)


ê° Keyì— ì˜ˆì˜ê²Œ ì €í¬ ë°ì´í„°ê°€ ë‹´ê²¨ìˆìœ¼ë©°, ì¶”ê°€ë¡œ ì–´ë–¤ í´ë˜ìŠ¤ì˜ ë°ì´í„°ì¸ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ `_class`ë„ ì €ì¥ë˜ì–´ ìˆìŒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‚˜ë¨¸ì§€ í…ŒìŠ¤íŠ¸ë„ ë§Œë“¤ì–´ì„œ ì‹¤í–‰í•´ ë´…ì‹œë‹¤.

- **readOneTest(), updateTest(), deleteTest()**

    ```java
    @Test
    public void readOneTest() {
        Item item = itemRepository.findById(1L)
                .orElseThrow();
        System.out.println(item.getDescription());
    }
    
    @Test
    public void updateTest() {
        Item item = itemRepository.findById(1L)
                .orElseThrow();
        item.setDescription("On Sale!!!");
        itemRepository.save(item);
    
        item = itemRepository.findById(1L)
                .orElseThrow();
        System.out.println(item.getDescription());
    }
    
    @Test
    public void deleteTest() {
        itemRepository.deleteById(1L);
    }
    ```


ê°ê° ìˆœì„œë°ë¡œ ì‹¤í–‰í•˜ë©´, ìµœì¢…ì ìœ¼ë¡œ Redisì˜ ëª¨ë“  í‚¤ë“¤ì´ ì‚¬ë¼ì§€ê²Œ ë©ë‹ˆë‹¤.

---

Repositoryë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ CRUDì‘ì—…ì„ ì†ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, ì €í¬ê°€ ìµìˆ™í•œ Spring Data JPAì™€ ìœ ì‚¬í•˜ë‹¤ëŠ” ì¥ì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ ì™¸ì— í™•ì¥í•˜ëŠ” ë°©ë²• ë“±ë„ ë™ì¼í•©ë‹ˆë‹¤.

í•œí¸, Redisì˜ ì„œë¡œ ë‹¤ë¥¸ ìë£Œí˜•, ê·¸ ìë£Œí˜•ì„ í™œìš©í•œ ë³µì¡í•œ ê¸°ëŠ¥ì„ ë§Œë“œëŠ”ë°ëŠ” í•œê³„ê°€ ìˆì„ê²ƒ ê°™ì€ ê¸°ë¶„ë„ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## RedisTemplate ì¨ë³´ê¸°

ë§Œì•½ Keyë¥¼ ì§ì ‘ ì„¤ì •í•˜ê³  ìë£Œí˜•ë„ ì§ì ‘ ì„ íƒí•´ ê°€ë©´ì„œ Redisë¥¼ í™œìš©í•˜ê³  ì‹¶ë‹¤ë©´, `RedisTemplate`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`RedisTemplate`ì„ ì •ì˜í•˜ë©´ì„œ Keyì™€ Valueë¡œ ì‚¬ìš©ë  Java í´ë˜ìŠ¤ë¥¼ ì •í•˜ê³ , ì´í›„ ì‚¬ìš©í•  ì„¸ë¶€ ì‘ì—…ì„ `RedisOperations`ë¥¼ ì´ìš©í•´ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

### `StringRedisTemplate`ìœ¼ë¡œ ë§›ë³´ê¸°

ë³µì¡í•œ ì‘ì—…ì—†ì´ Javaì˜ ë¬¸ìì—´ë§Œ ë‹¤ë£¨ëŠ” ê²½ìš°, `StringRedisTemplate`ì´ ê¸°ë³¸ìœ¼ë¡œ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. ì´ëŠ” Keyì™€ Valueë¥¼ ì „ë¶€ Javaì˜ ë¬¸ìì—´ì´ë¼ê³  ê°€ì •, ë¬¸ìì—´ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê¸° ìœ„í•œ ì‘ì—…ë“¤ì„ ì¤€ë¹„í•˜ë©°, ê¸°ë³¸ ì„¤ì •ì„ ê°€ì§€ê³  ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ ì£¼ì…ë˜ëŠ” Spring Beanì…ë‹ˆë‹¤.

>â˜ğŸ» Redisì˜ String ìë£Œí˜•ë§Œ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì•„ë‹Œ, Redisì™€ Spring Boot ì‚¬ì´ì— ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ê³¼ì •ì—ì„œ ì§ë ¬í™” - ì—­ì§ë ¬í™” í• ë•Œ Javaì˜ Stringìœ¼ë¡œ ì·¨ê¸‰ë˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤! Redis Listì— ë„£ì„ ë•Œ Java ë¬¸ìì—´ì„ ë„£ê³ , Redis Setì— ë„£ì„ ë•Œ Java ë¬¸ìì—´ì„ ë„£ëŠ”ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤!


- **RedisTemplateTests.java**

    ```java
    @SpringBootTest
    public class RedisTemplateTests {
        @Autowired
        private StringRedisTemplate stringRedisTemplate;
        
        @Test
        public void stringOpsTest() {
    
        }
    }
    ```


ì´ `StringRedisTemplate`ì€ ê° ìë£Œí˜•ì— ëŒ€ì‘í•˜ëŠ” `*Operations` ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë“¤ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ë“¤ì–´, `opsForValue()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë  ê²½ìš° `ValueOperations<String, String>`ì´ ë°˜í™˜ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì´ `ValueOperations<String, String>`ëŠ”, Javaì˜ `String` ë°ì´í„°ë¥¼ Keyì™€ Valueë¡œ, Redisì˜ String ì‘ì—…ì„ í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë¥¼ ë³´ìš°í•˜ê³  ìˆìŠµë‹ˆë‹¤.

- **stringValueOpsTest()**

    ```java
    @Test
    public void stringValueOpsTest() {
        ValueOperations<String, String> ops = stringRedisTemplate.opsForValue();
        ops.set("simplekey", "simplevalue");
        System.out.println(ops.get("simplekey"));
        ops.set("greeting", "hello redis!");
        System.out.println(ops.get("greeting"));
    }
    ```

  ![test](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Fbd7e5ccf-1c76-4824-abf0-bbe72544c6f6%2FUntitled.png?table=block&id=307a81e6-27ba-4c47-b19a-2cf5d9662100&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1080&userId=&cache=v2)


ì—¬ê¸°ì—ëŠ” ì§€ê¸ˆ ì‚¬ìš©í•œ `set`, `get` ë§ê³ ë„, `Map`ê³¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `multiSet`, `Collection`ê³¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `multiGet` ë“±, ì›ë˜ String ë°ì´í„° íƒ€ì…ì„ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©í•˜ë˜ ë‹¤ì–‘í•œ ëª…ë ¹ë“¤ì´ ë©”ì„œë“œë¡œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì´ìš©í•˜ë©´ Redisì— ì§ì ‘ ëª…ë ¹ì„ ì „ë‹¬í•˜ë“¯ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì´ê±´ Redis String ë¿ë§Œ ì•„ë‹™ë‹ˆë‹¤. ë§Œì•½ ì €í¬ê°€ ë‹¤ë£¨ê³  ì‹¶ì€ ë°ì´í„° íƒ€ì…ì´ Setì´ë¼ë©´, `opsForSet()`ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **stringSetOpsTest()**

    ```java
    @Test
    public void stringSetOpsTest() {
        SetOperations<String, String> setOps = stringRedisTemplate.opsForSet();
        setOps.add("hobbies", "games");
        setOps.add("hobbies", "coding");
        setOps.add("hobbies", "alcohol");
        setOps.add("hobbies", "games");
        System.out.println(setOps.size("hobbies"));
    }
    ```

  ![test](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F25038b09-00f0-457b-961f-8037d66f683c%2FUntitled.png?table=block&id=260822bf-1b84-44a7-b559-c95ef1f7c8f6&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1240&userId=&cache=v2)


ê·¸ ì™¸ì— EXPIRE, DELê°™ì€ ê³µìš© ê¸°ëŠ¥ì€ `StringRedisTemplate` ìì²´ì— ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

- **redisOpsTest()**

    ```java
    @Test
    public void redisOpsTest() {
        stringRedisTemplate.expire("simplekey", 5, TimeUnit.SECONDS);
        stringRedisTemplate.expire("greeting", 10, TimeUnit.SECONDS);
        stringRedisTemplate.expire("hobbies", 15, TimeUnit.SECONDS);
    }
    ```


### `@Configuration`ì—ì„œ `RedisTemplate` ì •ì˜í•˜ê¸°

ì¢€ë” ìì„¸íˆ ì‚´í´ë³´ë©´, `StringRedisTemplate` ìì²´ê°€ `RedisTemplate<String, String>`ì„ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ì„ì„ ì•Œ ìˆ˜ ìˆìœ¼ë©°, ì‹¤ì œ `opsForValue()`ë‚˜ `opsForSet()`ë“±ì˜ ë©”ì„œë“œëŠ” `RedisTemplate<K, V>`ì— ì •ì˜ê°€ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

![RT](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F0a550906-eb30-4b3c-b5de-027aeee8171a%2FUntitled.png?table=block&id=23f485e3-abfa-46ef-bda3-70e2de3b544e&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1630&userId=&cache=v2)

ì¦‰, ì €í¬ê°€ ì§ì ‘ `<K, V>`ì˜ íƒ€ì… íŒŒë¼ë¯¸í„°ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤ë©´, ë” ë³µì¡í•œ ë°ì´í„°ë¥¼ Redisì™€ ì£¼ê³ ë°›ëŠ”ê²Œ ê°€ëŠ¥í•  ê²ƒì´ë¼ ì¶”ì¸¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì™•ì´ë©´ Bean ê°ì²´ë¡œ ë“±ë¡í•˜ë©´, ì €í¬ê°€ ì›í•˜ëŠ” ê³³ì—ì„œ ì£¼ì…í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

ë¨¼ì € ì´ë¯¸ `@RedisHash`ê°€ ì ìš©ëœ `Item` ëŒ€ì‹  ì‚¬ìš©í•  `ItemDto`ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

- **ItemDto.java**

    ```java
    @Getter
    @ToString
    @Builder
    @NoArgsConstructor
    @AllArgsConstructor
    public class ItemDto {
        private String name;
        private String description;
        private Integer price;
    }
    ```


ê·¸ë¦¬ê³  `@Configuration`ì„ ì ìš©í•œ `RedisConfig` í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

- **RedisConfig.java**

    ```java
    @Configuration
    public class RedisConfig {
        @Bean
        public RedisTemplate<String, ItemDto> itemRedisTemplate(
                RedisConnectionFactory connectionFactory
        ) {
            RedisTemplate<String, ItemDto> template = new RedisTemplate<>();  // 1
            template.setConnectionFactory(connectionFactory);                 // 2
            template.setKeySerializer(RedisSerializer.string());              // 3-a
            template.setValueSerializer(RedisSerializer.json());              // 3-b
            return template;                                                  // 4
        }
    }
    ```

    1. ìš°ì„  ìƒˆë¡œìš´ `RedisTemplate`ì„ ë§Œë“¤ë©´ì„œ, íƒ€ì… íŒŒë¼ë¯¸í„°ë¥¼ `String`, `ItemDto`ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì´ëŠ” KeyëŠ” Javaì˜ `String`, ValueëŠ” ì €í¬ì˜ `ItemDto`ë¥¼ ì‚¬ìš©í•´ Redisì™€ ì†Œí†µí•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.
    2. Redisì™€ì˜ ì—°ê²°ì„ ë‹´ë‹¹í•  `RedisConnectionFactory`ë¥¼ `template`ì— ì „ë‹¬í•©ë‹ˆë‹¤. ì´ë•Œ, `RedisConnectionFactory`ì˜ ê²½ìš° `applcation.yaml` íŒŒì¼ì˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ë‚´ë¶€ì ìœ¼ë¡œ ë§Œë“¤ì–´ Bean ê°ì²´ë¡œ ë“±ë¡ë©ë‹ˆë‹¤.
    3. ë°ì´í„° ì§ë ¬í™” ë°©ë²•ì„ ê²°ì •í•©ë‹ˆë‹¤.
        1. KeyëŠ” ë¬¸ìì—´ë¡œ ì§ë ¬í™”, ì—­ì§ë ¬í™”ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
        2. ValueëŠ” ë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ì§ë ¬í™” í•©ë‹ˆë‹¤.

       ì´ ê³¼ì •ì€ í•„ìˆ˜ëŠ” ì•„ë‹ˆì§€ë§Œ, Redis ìƒì˜ ë°ì´í„°ë¥¼ ì €í¬ê°€ ì¢€ë” ì½ê¸° ì‰½ê²Œ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

    4. ë§ˆì§€ë§‰ìœ¼ë¡œ `template`ì„ ë°˜í™˜í•˜ë©´ Bean ê°ì²´ë¡œ ë“±ë¡ë©ë‹ˆë‹¤.


ì´ì œ ì´ `RedisTemplate`ì„ ì‚¬ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ ë´…ì‹œë‹¤.

- **itemRedisTemplateTest()**

    ```java
    @Test
    public void itemRedisTemplateTest() {
        ValueOperations<String, ItemDto> ops = itemRedisTemplate.opsForValue();
        ops.set("my:keyboard", ItemDto.builder()
                .name("Mechanical Keyboard")
                .price(300000)
                .description("Expensive ğŸ˜¢")
                .build());
        System.out.println(ops.get("my:keyboard"));
    
        ops.set("my:mouse", ItemDto.builder()
                .name("mouse mice")
                .price(100000)
                .description("Expensive ğŸ˜¢")
                .build());
        System.out.println(ops.get("my:mouse"));
    }
    ```

  ![test](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F5a2ec859-cb37-4f50-b13b-6ffa68a09c73%2FUntitled.png?table=block&id=06c2c4d6-abc6-43b0-8284-b6c2f8a034f1&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1680&userId=&cache=v2)


ì‹¤ì œë¡œ Redisì— ì˜ ì €ì¥ë¬ëŠ”ì§€ë„ í™•ì¸í•´ ë´…ì‹œë‹¤!

- **MGETì˜ ê²°ê³¼**

  ![mget](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F5002167a-3057-4412-8f3e-30de7f16d91b%2FUntitled.png?table=block&id=5e37938d-d708-4704-9da2-ca7ec0d4e6e2&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1570&userId=&cache=v2)


ì´ì²˜ëŸ¼ Redisì˜ íŠ¹ì • ê¸°ëŠ¥ì„ ìƒì„¸í•˜ê²Œ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, `RedisTemplate`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‚´ê°€ Redisì— ì €ì¥í•˜ê³  ì‹¶ì€ ë°ì´í„°ì˜ í˜•íƒœë¥¼ ì˜ ìƒê°í•´ë³¸ ë‹¤ìŒ, ì ë‹¹í•œ í˜•íƒœì˜ `RedisTemplate`ì„ ë§Œë“¤ê³ , í•„ìš”í•œ ê³³ì—ì„œ í™œìš©í•´ ë³´ë„ë¡ í•©ì‹œë‹¤.